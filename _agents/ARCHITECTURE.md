# Архитектура проекта Horecoff

## Обзор
Проект рефакторен из монолитной структуры в модульную архитектуру с использованием современных инструментов и практик.

## Структура проекта

```
horecoff_v2/
├── backup/                    # Резервная копия оригинальной версии
├── src/                       # Исходный код
│   ├── index.html            # Главный HTML файл (точка входа)
│   ├── templates/            # Handlebars шаблоны
│   │   ├── partials/        # Переиспользуемые компоненты
│   │   ├── sections/        # Секции страницы
│   │   └── svg-icons.hbs    # SVG спрайты
│   ├── styles/              # SCSS стили
│   │   ├── main.scss        # Главный файл стилей
│   │   ├── base/           # Базовые стили (reset, variables, typography)
│   │   ├── components/     # Стили компонентов
│   │   ├── sections/       # Стили секций
│   │   └── utilities/      # Утилиты и хелперы
│   ├── js/                  # JavaScript модули
│   │   ├── main.js         # Точка входа
│   │   ├── modules/       # Функциональные модули
│   │   └── utils/         # Утилиты
│   ├── assets/             # Статические ресурсы
│   │   └── img/           # Изображения
│   └── data/               # Конфигурация и данные
│       └── config.js       # API ключи, настройки
├── public/                  # Публичные статические файлы
│   ├── icon/              # Favicons
│   └── img/               # Изображения (копируются в build)
├── vite.config.js          # Конфигурация Vite
├── package.json           # Зависимости и скрипты
└── README.md              # Документация проекта
```

## Принципы архитектуры

### 1. Разделение ответственности
- **HTML/Handlebars**: Структура и шаблонизация
- **SCSS**: Стилизация, разделенная по компонентам
- **JavaScript**: Логика, разделенная по модулям

### 2. Модульность
- Каждый компонент изолирован
- Переиспользуемые части вынесены в partials
- Стили организованы по функциональности
- JS модули с единой ответственностью

### 3. Масштабируемость
- Легко добавлять новые компоненты
- Простое расширение функциональности
- Гибкая система стилей

## Компоненты

### HTML/Handlebars компоненты

#### Partials (переиспользуемые)
- `header.hbs` - Шапка сайта с навигацией
- `footer.hbs` - Подвал сайта
- `menu.hbs` - Мобильное меню
- `menu2.hbs` - Второе меню
- `popup.hbs` - Модальное окно

#### Sections (секции страницы)
- `hero.hbs` - Главная секция (hero)
- `kofe.hbs` - Секция "Кофе"
- `uslugi.hbs` - Секция "Услуги"
- `lubov.hbs` - Секция "Любовь к ремеслу"
- `about.hbs` - Секция "О компании"
- `apparatus.hbs` - Секция "Оборудование"
- `contacts.hbs` - Секция "Контакты"

### SCSS модули

#### Base
- `_reset.scss` - Сброс стилей браузера
- `_variables.scss` - Переменные (цвета, шрифты, отступы)
- `_typography.scss` - Типографика
- `_mixins.scss` - Миксины для переиспользования

#### Components
- `_header.scss` - Стили шапки
- `_footer.scss` - Стили подвала
- `_menu.scss` - Стили меню
- `_button.scss` - Стили кнопок
- `_form.scss` - Стили форм
- `_popup.scss` - Стили модальных окон

#### Sections
- Стили для каждой секции страницы

### JavaScript модули

#### Modules
- `burger.js` - Управление мобильным меню
- `form.js` - Обработка форм и валидация
- `popup.js` - Управление модальными окнами
- `backToTop.js` - Кнопка "Наверх"
- `apparatus.js` - Логика секции оборудования
- `airtable.js` - Интеграция с Airtable API
- `slider.js` - Управление слайдерами

#### Utils
- `validators.js` - Валидация форм
- `helpers.js` - Вспомогательные функции

## Технологический стек

- **Vite** - Сборщик и dev сервер
- **Handlebars** - Шаблонизатор
- **SCSS** - Препроцессор CSS
- **Vanilla JS** - Без фреймворков
- **ES6 Modules** - Модульная система JS

## Сборка

### Development
```bash
npm run dev
```
- Запускает dev сервер с HMR
- Компилирует Handlebars шаблоны
- Обрабатывает SCSS
- Подключает JS модули

### Production
```bash
npm run build
```
- Минифицирует код
- Оптимизирует изображения
- Создает production bundle

## Интеграции

### Airtable API
- Используется для получения данных об оборудовании
- API ключи хранятся в `src/data/config.js`
- Модуль `airtable.js` обрабатывает запросы

### Yandex Metrika
- Аналитика встроена в `index.html`
- Не требует изменений в новой структуре

## Методология именования

### CSS (BEM)
```scss
.block {}
.block__element {}
.block--modifier {}
```

### JavaScript
- camelCase для переменных и функций
- PascalCase для классов
- UPPER_CASE для констант

### Файлы
- kebab-case для имен файлов
- Префикс `_` для SCSS partials

## Производительность

- Ленивая загрузка изображений
- Минификация в production
- Оптимизация bundle size
- Source maps для разработки

## Браузерная поддержка

- Современные браузеры (ES6+)
- Graceful degradation для старых браузеров

